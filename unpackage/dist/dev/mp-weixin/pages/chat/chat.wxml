<view class="chat-container"><view class="chat-header"><text class="chat-title">聊天室</text></view><view class="chat-messages"><block wx:for="{{messages}}" wx:for-item="msg" wx:for-index="index" wx:key="index"><view class="message"><view class="{{['avatar',(msg.self)?'self':'']}}"><image src="{{msg.avatar}}" mode="aspectFit"></image></view><view class="message-content"><view class="message-header"><text class="nickname">{{msg.nickname}}</text></view><text class="message-text">{{msg.text}}</text></view></view></block></view><view class="chat-footer"><input type="text" placeholder="输入消息..." data-event-opts="{{[['confirm',[['sendMessage',['$event']]]],['input',[['__set_model',['','inputMessage','$event',[]]]]]]}}" value="{{inputMessage}}" bindconfirm="__e" bindinput="__e"/><button data-event-opts="{{[['tap',[['sendMessage',['$event']]]]]}}" bindtap="__e">发送</button></view></view>